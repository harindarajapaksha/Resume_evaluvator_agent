2025-11-02 14:06:02 - resume_assesor - ERROR - Resume redaction failed: Failed to initialize LLM: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 84, in load_llm
    _require_env("OPENAI_API_KEY")
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 61, in _require_env
    raise RuntimeError(
RuntimeError: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 117, in resume_evaluator
    redactored_resume = redaction_run(resume_path=resume_path)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 115, in redaction_run
    llm = load_llm()
          ^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 92, in load_llm
    raise RuntimeError(f"Failed to initialize LLM: {llm_e}") from llm_e
RuntimeError: Failed to initialize LLM: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.
2025-11-02 14:06:37 - resume_assesor - ERROR - Resume redaction failed: Failed to initialize LLM: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 84, in load_llm
    _require_env("OPENAI_API_KEY")
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 61, in _require_env
    raise RuntimeError(
RuntimeError: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 117, in resume_evaluator
    redactored_resume = redaction_run(resume_path=resume_path)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 115, in redaction_run
    llm = load_llm()
          ^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 92, in load_llm
    raise RuntimeError(f"Failed to initialize LLM: {llm_e}") from llm_e
RuntimeError: Failed to initialize LLM: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.
2025-11-02 14:07:08 - resume_assesor - ERROR - Resume redaction failed: Failed to initialize LLM: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 84, in load_llm
    _require_env("OPENAI_API_KEY")
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 61, in _require_env
    raise RuntimeError(
RuntimeError: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 117, in resume_evaluator
    redactored_resume = redaction_run(resume_path=resume_path)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 115, in redaction_run
    llm = load_llm()
          ^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/redactor.py", line 92, in load_llm
    raise RuntimeError(f"Failed to initialize LLM: {llm_e}") from llm_e
RuntimeError: Failed to initialize LLM: Missing required environment variable: OPENAI_API_KEY. Ensure your .env or deployment configuration sets it.
2025-11-02 14:09:35 - resume_assesor - INFO - Resume redaction completed.
2025-11-02 14:09:35 - resume_assesor - INFO - Successfully accessed the job description file.
2025-11-02 14:09:35 - resume_assesor - ERROR - LLM evaluation failed: 'Input to ChatPromptTemplate is missing variables {\'\\n  "evaluation"\', \'weights_section\'}.  Expected: [\'\\n  "evaluation"\', \'weights_section\'] Received: [\'resume\', \'job_description\']\nNote: if you intended {\n  "evaluation"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n  "evaluation"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 137, in resume_evaluator
    result: EvaluationOutput = chain.invoke({
                               ^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3244, in invoke
    input_ = context.run(step.invoke, input_, config, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 214, in invoke
    return self._call_with_config(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 2092, in _call_with_config
    context.run(
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 430, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 187, in _format_prompt_with_error_handling
    inner_input_ = self._validate_input(inner_input)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 181, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'\\n  "evaluation"\', \'weights_section\'}.  Expected: [\'\\n  "evaluation"\', \'weights_section\'] Received: [\'resume\', \'job_description\']\nNote: if you intended {\n  "evaluation"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n  "evaluation"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-11-02 14:11:27 - resume_assesor - INFO - Resume redaction completed.
2025-11-02 14:11:27 - resume_assesor - INFO - Successfully accessed the job description file.
2025-11-02 14:11:27 - resume_assesor - ERROR - LLM evaluation failed: name 'resume' is not defined
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 132, in resume_evaluator
    prompt = resume_eveluator_prompt()
             ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/modules/prompts.py", line 153, in resume_eveluator_prompt
    {resume}
     ^^^^^^
NameError: name 'resume' is not defined
2025-11-02 14:21:15 - resume_assesor - INFO - Resume redaction completed.
2025-11-02 14:21:15 - resume_assesor - INFO - Successfully accessed the job description file.
2025-11-02 14:21:15 - resume_assesor - ERROR - LLM evaluation failed: 'Input to ChatPromptTemplate is missing variables {\'\\n          "evaluation"\'}.  Expected: [\'\\n          "evaluation"\', \'job_description\', \'resume\'] Received: [\'resume\', \'job_description\']\nNote: if you intended {\n          "evaluation"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n          "evaluation"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 137, in resume_evaluator
    result: EvaluationOutput = chain.invoke({
                               ^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3244, in invoke
    input_ = context.run(step.invoke, input_, config, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 214, in invoke
    return self._call_with_config(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 2092, in _call_with_config
    context.run(
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 430, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 187, in _format_prompt_with_error_handling
    inner_input_ = self._validate_input(inner_input)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 181, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'\\n          "evaluation"\'}.  Expected: [\'\\n          "evaluation"\', \'job_description\', \'resume\'] Received: [\'resume\', \'job_description\']\nNote: if you intended {\n          "evaluation"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n          "evaluation"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
2025-11-02 14:25:07 - resume_assesor - INFO - Resume redaction completed.
2025-11-02 14:25:07 - resume_assesor - INFO - Successfully accessed the job description file.
2025-11-02 14:25:07 - resume_assesor - ERROR - LLM evaluation failed: 'Input to ChatPromptTemplate is missing variables {\'\\n          "evaluation"\'}.  Expected: [\'\\n          "evaluation"\', \'job_description\', \'resume\'] Received: [\'resume\', \'job_description\']\nNote: if you intended {\n          "evaluation"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n          "evaluation"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
Traceback (most recent call last):
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/main.py", line 137, in resume_evaluator
    result: EvaluationOutput = chain.invoke({
                               ^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3244, in invoke
    input_ = context.run(step.invoke, input_, config, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 214, in invoke
    return self._call_with_config(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 2092, in _call_with_config
    context.run(
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 430, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 187, in _format_prompt_with_error_handling
    inner_input_ = self._validate_input(inner_input)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/harinda/PycharmProjects/Suncorp_resume_project/.venv/lib/python3.12/site-packages/langchain_core/prompts/base.py", line 181, in _validate_input
    raise KeyError(
KeyError: 'Input to ChatPromptTemplate is missing variables {\'\\n          "evaluation"\'}.  Expected: [\'\\n          "evaluation"\', \'job_description\', \'resume\'] Received: [\'resume\', \'job_description\']\nNote: if you intended {\n          "evaluation"} to be part of the string and not a variable, please escape it with double curly braces like: \'{{\n          "evaluation"}}\'.\nFor troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/INVALID_PROMPT_INPUT '
